# 手机端开发需求

## 目标

一个手机App，跨平台功能无所谓，但要求能较好地适配各种分辨率，语言为中文。该App主要的功能是，能够实时的采集、显示乒乓球比赛的数据。即在比赛的同时，用户需要能够一边在现场观看比赛，一边使用该App录入数据；录入结束后，需要实时显示统计表格。

## 功能模块

以下内容，方括号内的数字，表示需求度，数字越大，可以向后拖，数字小，需要先开发。

### 用户验证模块（目前唯一需要与后端交互的部分）【5】

使用本App，需要使用用户名+密码的登录方法。

密码传输前需要使用RSA加密，加密公钥需要提前向后端请求。

只有登陆后，才可以使用后面的功能。

本App不提供注册功能，注册功能需要在PC端完成。

当你需要与后端交互时，联系我，我会跟你说后端的api是什么样的。

### 采集模块

1. 新建比赛（必需）【1】

   要求能够录入比赛的基础信息包括：

   - 比赛日期：录入年、月、日；
   - 比赛地点：用户输入一个国家或城市的名字；
   - 比赛类型：从以下项中选择：公开赛、世乒赛、世界杯、奥运会、乒超联赛、亚运会、亚锦赛、亚洲杯、奥运选拔赛、队内赛、欧亚对抗赛、其他；
   - 比赛项目：从以下项中选择：男团单打、男团双打、男单、男双、女团单打、女团双打、女单、女双、混双；
   - 比赛轮次：从以下项中选择：决赛、半决赛、四分之一决赛、八分之一决赛、十六分之一决赛、小组赛第一轮、小组赛第二轮、小组赛第三轮、其他；
   - 球员名字：单打时，需要录入每方一名球员名字；双打时录入每方两名球员名字；

   根据以上信息，可以生成比赛信息的唯一标识符，格式为：\`\${比赛日期} \${比赛地点}\${比赛类型} \${比赛项目}\${比赛轮次} \${A方球员名字}vs\${B方球员名字}\`，如'20190330 卡塔尔公开赛 女单八分之一决赛 丁宁vs伊藤美诚'，双打时，双方球员名字不需要分隔符，如'马龙许昕vs张本智和法尔克'，即可。

2. 采集方法1（优先级较高）【2】

   采集员始终是球员A视角，对于每个回合，需要采集两项信息：回合拍数和得失分。其中回合拍数只需要区分1、2、3、4、5、5以后，得失分即两个按钮。信息的正确性由采集员维护，暂时不需要系统做出判定。（由于发球方确定后，拍数其实决定了是否得分，所以这种采集方法是有可能采集出错误数据的，但暂时不用管）

3. 采集方法2（优先级较低）【4】

   对于每个回合，需要用户指定发球方，与拍数。每回合最后一拍必然是失败的一方，所以如果是偶数拍，就是发球方胜；如果是奇数拍，就是发球方败；

   需要注意的有两点：

   1. 发球是存在轮替关系的，所以一般只需要指定一次，其他均可以推导出。这部分暂时可以不做，但需要留出接口。
   2. 双打比赛中，通过发球方也是可以推导出最后一拍是谁打的，但关系更加复杂，暂时先不管。

   对于以上两种采集方法，都需要支持撤销操作。采集的过程中，需要实时生成比分表格，方便采集员验证自己采集的对不对。(一场比赛，最多BO7，最少BO5，下表只是一个样例，你自己看看怎么开发比较方便就怎么写)

   | 局序号  | 1    | 2    | 3    | 4    | 5    |
   | ------- | ---- | ---- | ---- | ---- | ---- |
   | [球员A] |      |      |      |      |      |
   | [球员B] |      |      |      |      |      |


### 分析模块【3】

1. 对于单打比赛，需要生成一张三段法的表格（两种采集方法都可以产生），和一张四段法的表格（用采集方法1，无法生成）。表格附件中，都已经有了。如果你对表格有疑问随时问我（因为这是他们专业的东西，有的细节，我可能也把握不好，所以后面可能还要打磨，你先把表格的样子做出来就好，里面的数字再说）。
2. 对于双打比赛，需要生成双方的双打分析表格。表格附件中也已经有了，同样，先画出来就好了，表格里的数字之间的逻辑可以推后再说。

## 代码需求

由于本项目后期维护周期较长，而你的开发完成后可能无法投入精力维护，所以希望你在写代码时，能尽量保持代码的简洁、易懂。建议保持的规则如下：

1. 变量名、函数名尽量能够表意（不要出现a、b这种名称），统一风格（什么风格随便你，但整个项目需要统一风格）；
2. 一个代码文件，需要在文件头部添加注释，简要解释文件的作用；
3. 一个超过20行（泡沫代码也可以不用解释，目的还是让人看懂）的函数，需要在函数头部添加注释，简要解释函数的作用；
4. 对于一些大量使用到的依赖包，请在项目的readme.md文档中说明。